<!DOCTYPE html> <html lang="es"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>¿Cómo obtener un modelo de tráfico para VoIP? | Luis Sequeira</title> <meta name="author" content="Luis Sequeira"> <meta name="description" content="En este artículo se describe como obtener un modelo de tráfico para voip, el cual es bastante sencillo de interpretar y facilitará algunas de las cosas que se deben hacer."> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="/assets/img/favicon.svg?8510505313e2319b2bf6e43135ea852b"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://luissequeira.github.io/blog/2014/how-to-obtain-a-traffic-model-for-voip/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/es/"><img src="/assets/img/favicon.svg" alt aria-label="logo" height="18" width="18">Luis Sequeira</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/es/">acerca</a> </li> <li class="nav-item active"> <a class="nav-link" href="/es/blog/">blog<span class="sr-only">(current)</span></a> </li> <li class="nav-item "> <a class="nav-link" href="/es/publications/">publicaciones</a> </li> <li class="nav-item "> <a class="nav-link" href="/es/cv/">cv</a> </li> <li class="nav-item "> <a class="nav-link" href="/es/research/">investigación</a> </li> <li class="nav-item active"> <a class="nav-link" href="/blog/2014/how-to-obtain-a-traffic-model-for-voip/">EN</a> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">¿Cómo obtener un modelo de tráfico para VoIP?</h1> <p class="post-meta"> 06 Marzo 2014 </p> <p class="post-tags"> <a href="/es/blog/2014"> <i class="fas fa-calendar fa-sm"></i> 2014 </a>   ·   <a href="/es/blog/tag/tr%C3%A1fico"> <i class="fas fa-hashtag fa-sm"></i> tráfico</a>   <a href="/es/blog/tag/voip"> <i class="fas fa-hashtag fa-sm"></i> voip</a>   <a href="/es/blog/tag/multimedia"> <i class="fas fa-hashtag fa-sm"></i> multimedia</a>     ·   <a href="/es/blog/category/networks"> <i class="fas fa-tag fa-sm"></i> Networks</a>   <a href="/es/blog/category/innovation"> <i class="fas fa-tag fa-sm"></i> Innovation</a>   </p> </header> <article class="post-content"> <div id="markdown-content"> <p>Para realizar las estimaciones del modelo de tráfico para flujos multimedia, es necesario que el investigador tenga un control preciso del entorno de pruebas, minimizando los posibles errores e interferencia que puedan presentarse, dejando un escenario de pruebas que permita un desarrollo fluido a la aplicación que se dese modelar. <strong>A modo de ejemplo se ha seleccionado un tráfico de <a href="/es/blog/2014/what-is-voip/">VoIP</a></strong>, el cual es bastante sencillo de interpretar y facilitará algunas de las cosas que se deben hacer.</p> <h2 id="escenario-para-las-pruebas">Escenario para las pruebas</h2> <p><strong>En la Figura #1 se muestra el diagrama utilizado para realizar las pruebas con la finalidad de obtener el modelo del tráfico en la transmisión de voz sobre IP</strong>. En este caso, utilizaremos un <em>gateway</em> de voz sobre IP <em>Linksys SPA 3102</em>, con el fin de conectar un sistema telefónico convencional con una red IP y viceversa. Un sniffer permite la captura del tráfico que circula por la red para su posterior análisis.</p> <div class="row mt-3" style="text-align: center"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/1-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/1-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/1-1400.webp"></source> <img src="/assets/img/Research/como-obtener-modelo-trafico-voip/1.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figura #1: Escenario utilizado para determinar el tráfico de voz. </div> <h2 id="procedimiento">Procedimiento</h2> <p><strong>En primer lugar, se debe configurar el <em>gateway</em></strong>, esto se hace con relativa facilidad por medio de un menú IVR (<em>Interative Voice Response</em>) o mediante cualquier navegador de Internet. Los aspectos más relevantes de la configuración son: la utilización de SIP (Session Initiation Protocol) como protocolo de señalización, asignación de direcciones IP a cada pasarela y la desactivación de NAT (Network Address Translation). Para la configuración de audio: uso del codec G.729, una paquetización de dos muestras por paquete y no se realiza supresión de silencio.</p> <p><strong>Después de la configuración de los equipos se lanza el sniffer</strong> para poder realizar la captura del tráfico, <strong>posteriormente, se realiza una llamada entre los terminales</strong>. Mediante el sniffer se realiza la captura de paquetes mientras la llamada está en curso y se almacenan los datos para su posterior análisis.</p> <h2 id="modelo-de-voip">Modelo de VoIP</h2> <p>Analizando la captura realizada, con alguna de las herramientas recomendadas <a href="/es/blog/2013/the-2-best-tools-for-the-capture-and-the-interpretation-of-network-data/">para la captura e interpretación de datos de red</a>, <strong>se puede reconstruir la distribución de los encabezados de cada uno de los paquetes capturados</strong> y de esta manera deducir la Figura #2.</p> <div class="row mt-3" style="text-align: center"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/2_en-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/2_en-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/2_en-1400.webp"></source> <img src="/assets/img/Research/como-obtener-modelo-trafico-voip/2_en.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figura #2: Descripción de los encabezados de cada paquete para el tráfico de voz. </div> <p>Como se puede observar, <strong>VoIP utiliza el protocolo RTP (Real-Time TRansport Protocol) para la transmisión de datos en tiempo real y este se transporta por medio de UDP</strong>, la Figura #2 permite comprobar la utilización de los protocolos mencionados. <strong>Se destaca en el análisis de la captura de paquetes realizada, que la transmisión de cada uno de los paquetes tiene una distribución constante (no se presentan ráfagas de paquetes)</strong>. Además, se confirma que cada terminal realiza el envío de paquetes cada \(20 ms\) y que el contenido de datos de dichos paquetes corresponde con el tipo de codec utilizado (G.729) y la cantidad de muestras que se definieron en la configuración de cada gateway (dos muestras por paquete).</p> <p>Un aspecto importante de tener en cuenta para un modelo de tráfico es el tiempo, o la variación de éste, en el cual cada paquete es enviado. Para ello es necesario extraer del fichero de traza, el tiempo entre los inicios (o llegadas) de cada paquete. En la Figura #3 se puede observar la variación de la duración de cada paquete, para el tráfico enviado y recibido de voz en función del tiempo de transmisión. <strong>Para las muestras tomadas en este caso, se obtiene un tiempo medio de envío de paquetes de \(20 ms\) con una desviación estándar de \(0.62 ms\). Cada conexión de este flujo tiene un consumo de ancho de banda a nivel IP \(BW = (60x8) / 20X10^{-3}\), lo que equivale a \(24 Kbps\)</strong>.</p> <div class="row mt-3" style="text-align: center"> <div class="col-sm mt-3 mt-md-0"> <figure> <picture> <source class="responsive-img-srcset" media="(max-width: 480px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/3_en-480.webp"></source> <source class="responsive-img-srcset" media="(max-width: 800px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/3_en-800.webp"></source> <source class="responsive-img-srcset" media="(max-width: 1400px)" srcset="/assets/img/Research/como-obtener-modelo-trafico-voip/3_en-1400.webp"></source> <img src="/assets/img/Research/como-obtener-modelo-trafico-voip/3_en.png" class="img-fluid rounded z-depth-1" width="auto" height="auto" onerror="this.onerror=null; $('.responsive-img-srcset').remove();"> </picture> </figure> </div> </div> <div class="caption"> Figura #3: Detalle del tiempo entre los inicios de cada paquete para el tráfico de voz. </div> <h2 id="conclusión">Conclusión</h2> <p>El modelo de la transmisión de voz es relativamente sencillo y estable en cuanto a tiempos y tamaños ya que <strong>no presenta un comportamiento de ráfagas, o bien, puede verse como una sola. Generar un flujo IP de este tipo consiste en el envío de paquetes de \(60\) bytes (incluyendo las cabeceras) cada \(20 ms\) con una desviación estándar de \(0.62 ms\), esto si, se utiliza el codec G.729 y una paquetización de dos muestras por paquete</strong>. En el caso de que sea necesario cambiar el codec o la cantidad de muestras por paquete, los cambios son sencillos de hacer. Para este caso, se debe tener en cuenta la frecuencia de muestreo definida por el nuevo codec utilizado y la cantidad de muestras que se quieren empaquetar, las cuales se incluirían después del encabezado RTP.</p> </div> </article> <br> <hr> <br> <ul class="list-disc pl-8"></ul> <h2 class="text-3xl font-semibold mb-4 mt-12">¿Disfrutas leyendo este artículo?</h2> <p class="mb-2">Aquí hay algunos artículos más que tal vez le guste leer:</p> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/es/blog/2013/what-is-4g-and-what-are-the-most-important-technical-characteristics/">What is 4G? and what are the most important technical characteristics?</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/es/blog/2014/how-to-obtain-a-traffic-model-for-voip/">How to obtain a traffic model for VoIP?</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/es/blog/2014/what-is-voip/">What is VoIP?</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/es/blog/2014/aes-advanced-encryption-standard-overview-part-ii/">AES (Advanced Encryption Standard) overview Part II</a> </li> <li class="my-2"> <a class="text-pink-700 underline font-semibold hover:text-pink-800" href="/es/blog/2013/architecture-features-lte-sae/">Architecture Features LTE / SAE</a> </li> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Luis Sequeira. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script async src="https://www.googletagmanager.com/gtag/js?id=G-H36967R0NP"></script> <script>function gtag(){window.dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-H36967R0NP");</script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>